Zuniq
======

My  submission to [CodeCup](https://www.codecup.nl/zuniq) 2021. Ranked [15ยบ](https://www.codecup.nl/competition.php?comp=264) among 57 contestants.

![C++17](https://img.shields.io/badge/C++17-00599C?logo=C%2B%2B&logoColor=white&style=flat)
[![CMake](https://github.com/xboard/mcts_zuniq/workflows/CMake/badge.svg)](https://github.com/xboard/mcts_zuniq/actions?query=workflow%3ACMake)
[![License](https://img.shields.io/badge/license-GPL3.0-blue.svg)](https://opensource.org/licenses/GPL-3.0)



## Setting up the build

Dependencies:
* `g++ 7.5+` or `clang++ 3.8+`
* `CMake 3.16+`

The test suite uses [Catch](https://github.com/catchorg/Catch2) v2.13 but it is already included in the `lib` directory.

After cloning this repository (or uncompressing a [release](https://github.com/xboard/mcts_zuniq/release)), go to the source code diretory and write:
```shell
mkdir -p build
cd build/
cmake -DCMAKE_BUILD_TYPE=Release  -DCMAKE_CXX_FLAGS="-DQUIET_MODE=1" ..
make
```

To suggest a specific compiler you can write:

```shell
CXX=clang++ cmake -DCMAKE_BUILD_TYPE=Release  -DCMAKE_CXX_FLAGS="-DQUIET_MODE=1" ..
```

To test your build execute:

```shell
ctest
```

in directory `build/`

## Playing

<p align="center"><img src="/img/zuniq_black.gif" alt="Playing as black"/></p>


Click [here](https://www.codecup.nl/zuniq/rules.php) to learn the rules of Zuniq and how to comunicate with zuniq engine.


## Code Structure

There are two main CMake executable targets:
* `zuniq` runs the game engine.
* `zuniq_tests` or `all_tests` runs [Catch2](https://github.com/catchorg/Catch2) tests.


All engine internal data structures and algorithms are in file `zuniq.hpp` with some monte carlo tree search configuration parameters in file `config.hpp`. File `main.cpp` is just a driver to run the engine and `tests_runner.cpp` is a driver for test cases in `tests.cpp`. 

The competition has a technical restriction that submissions must be in a single file, and thats what the python script `generate_submission_file.py` does, generating the file `main_submit.cpp` to be submitted. 

Just for convenience during the competition there is a `compile.sh` that runs the single file generation script and build (using competition C++ build flag parameters) to an `a.out` executable (which is as similar as possible to the `zuniq` executable generated by CMake).

Script `static-analysis.sh` is used by Travis CI `.travis.yaml` file.

## Zuniq API and simple app

Boris_de_Wilde's [API](https://dewildeit.nl/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config) and
[web app](https://dewildeit.nl/zuniq/) to play against this (or other) engine in a web interface.


## Monte Carlo Tree Search references

* [Monte Carlo Tree Search](https://en.wikipedia.org/wiki/Monte_Carlo_tree_search)
* [An Introduction to Monte Carlo Tree Search](https://github.com/italiancpp/cppday19/blob/master/An%20Introduction%20toMonte%20Carlo%20Tree%20Search%20-%20Manlio%20Morini.pdf)
